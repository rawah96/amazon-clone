{"version":3,"sources":["components/Home/ast.jpg","components/Navbar/amazon.png","components/Home/short.jpg","components/Home/short2.jpg","components/Home/astro3.jpg","components/Home/mask.jpg","StateProvider.js","firebase.js","components/Navbar/Navbar.js","components/Products/Product.js","components/Home/Home.js","components/Checkout/CheckoutProducts.js","reducer.js","components/Checkout/Subtotal.js","components/Checkout/Checkout.js","components/Login/Login.js","components/Payment/Payment.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Navbar","dataLayer","user","className","to","src","amazon","alt","type","onClick","signOut","email","length","Product","id","title","price","rating","image","dispatch","item","Home","astro","astro2","short","short2","mask","ast","CheckoutProducts","getBasketTotal","reduce","amount","state","action","newBasket","index","findIndex","splice","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","push","Checkout","map","Login","useState","setEmail","pass","setPass","onChange","e","target","preventDefault","signInWithEmailAndPassword","then","catch","alert","message","createUserWithEmailAndPassword","Payment","App","useEffect","unsubscribe","onAuthStateChanged","authUser","exact","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.4625715f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ast.c2c56ff1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/amazon.7451f65b.png\";","module.exports = __webpack_public_path__ + \"static/media/short.4141f1e4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/short2.bae5b706.jpg\";","module.exports = __webpack_public_path__ + \"static/media/astro3.cb936b2b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mask.726f360b.jpg\";","// set up data layer\nimport React, {createContext, useContext, useReducer} from 'react'\n\n// track basket\n// this is an empty data layer (context)\nexport const StateContext = createContext();\n\n/* create provider to wrap entire app inside of it \n-- to have access to the data layer above\nThis is a component\n\ntakes three props: \n- reducver\n- initialState(how data layer looks at the beggining)\n- children\n*/\nexport const StateProvider = ({reducer, initialState, children}) => (\n    // here we're using store. value takes a hook useReducer\n    // children is referring to the <App />\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>   \n);\n\nexport const useStateValue = () => useContext(StateContext);","import firebase from 'firebase'\n/*const firebaseConfig = {\n    apiKey: \"AIzaSyDfpUQENUq5U4GuE7hHGSu5xKbfxptnBWc\",\n    authDomain: \"clone-85463.firebaseapp.com\",\n    databaseURL: \"https://clone-85463.firebaseio.com\",\n    projectId: \"clone-85463\",\n    storageBucket: \"clone-85463.appspot.com\",\n    messagingSenderId: \"795491592117\",\n    appId: \"1:795491592117:web:7821b2594f6c40f7ab5bfc\",\n    measurementId: \"G-6L83H8BCXQ\"\n  };*/\n\n  const Firebase = firebase.initializeApp({\n    apiKey: \"AIzaSyDfpUQENUq5U4GuE7hHGSu5xKbfxptnBWc\",\n    authDomain: \"clone-85463.firebaseapp.com\",\n    databaseURL: \"https://clone-85463.firebaseio.com\",\n    projectId: \"clone-85463\",\n    storageBucket: \"clone-85463.appspot.com\",\n    messagingSenderId: \"795491592117\",\n    appId: \"1:795491592117:web:7821b2594f6c40f7ab5bfc\",\n    measurementId: \"G-6L83H8BCXQ\"\n  });\n\n  const auth = Firebase.auth();\n\n  export {auth};","import React from 'react';\nimport './Navbar.css';\nimport amazon from './amazon.png';\nimport {Link} from 'react-router-dom';\nimport SearchIcon from '@material-ui/icons/Search'\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket'\nimport {useStateValue} from '../../StateProvider'\nimport {auth} from '../../firebase';\n\nfunction Navbar() {\n    // using the data layer\n    // dispatching makes us use the actions/logic in the reducer\n    //const [{dataLayer}, dispatch] = useStateValue();\n    // at this point we only want the basket\n    const [{dataLayer, user}] = useStateValue();\n\n    const login = () => {\n        if(user) {\n            auth.signOut();\n        }\n    }\n    return (\n        <nav className=\"navbar\">\n            <Link to=\"/\">\n                <img src={amazon} alt=\"\" className=\"amazon-logo\"/>\n            </Link>\n\n            <div className=\"nav-search\">\n                <input type=\"text\" className=\"navbar-input\"/>\n                <SearchIcon className=\"navbar-search-icon\"/>\n            </div>\n            <div className=\"nav-links\">\n                <Link to={!user && \"/login\"} className=\"link\">\n                    <div \n                    onClick={login}\n                    className=\"nav-options\">\n                        <span className=\"option1\">Hello {user ? user.email: null}</span>\n                        <span className=\"option2\">{user? (<h1>Sign out</h1>) : (<h1>Sign in</h1>)}</span>\n                    </div>\n                </Link>\n\n                <Link to=\"/\" className=\"link\">\n                    <div className=\"nav-options\">\n                        <span className=\"option1\">Returns</span>\n                        <span className=\"option2\">& Orders</span>\n                    </div>\n                </Link>\n\n                <Link to=\"/\" className=\"link\">\n                    <div className=\"nav-options\">\n                        <span className=\"option1\">Your</span>\n                        <span className=\"option2\">Prime</span>\n                    </div>\n                </Link>\n\n                <Link to=\"/checkout\" className=\"link\">\n                    <div className=\"option-basket\">\n                        \n                        <ShoppingBasketIcon />\n                        <span className=\"option2 basket-counter\">\n                            {/* using the data layer */}\n                            {dataLayer? dataLayer.length : null}\n                        </span>\n                    </div>\n                </Link>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar\n","import React from 'react'\nimport './Product.css'\nimport {useStateValue} from '../../StateProvider';\nfunction Product({id, title, price, rating, image}) {\n    const [{}, dispatch] = useStateValue();\n    const addToBasket = () => {\n        // add item to basket\n        dispatch({\n            type: 'ADD_TO_DATALAYER',\n            item: {\n                id: id,\n                title: title,\n                price: price,\n                rating: rating,\n                image: image,\n            }\n        })\n    }\n    return (\n        <div className=\"product\">\n            <div className=\"product-info\">\n            <p>{title}</p>\n            <p className=\"product-price\">\n                <small>$</small>\n                <strong>{price}</strong>\n            </p>\n\n            <div className=\"stars\">\n                {rating} stars\n            </div>\n            </div>\n\n            <img src={image} alt=\"\" />\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\n\nexport default Product\n","import React from 'react'\nimport './Home.css'\nimport astro from './ast.jpg'\nimport Product from '../Products/Product'\nimport short from './short.jpg'\nimport short2 from './short2.jpg'\nimport astro2 from './astro3.jpg'\nimport mask from './mask.jpg'\nimport ast from './ast.jpg'\nfunction Home() {\n    return (\n        <div className=\"home\">\n            <img src={astro} alt=\"\" className=\"home-img\" />\n            <div className=\"home-row\">\n\n            <Product \n            id=\"DANCE-MONKEY\"\n            title=\"Dance Monkey Tshirt\"\n            price={39.99}\n            rating={4.8}\n            image={astro2}\n            />\n\n            <Product \n            id=\"SAUDI-ARABIA\"\n            title=\"Saudi Arabia Short\"\n            price={32.99}\n            rating={5}\n            image={short}\n            />\n\n            <Product \n            id=\"DOUBT-ME\"\n            title=\"Doubted Me Short\"\n            price={32.99}\n            rating={5}\n            image={short2}\n            />\n            </div>\n                <div className=\"home-row\">\n                <Product \n                id=\"SAFE-COMMUNITY\"\n                title=\"Safe Community Will Survive Mask\" \n                price={10.99}\n                rating={5}\n                image={mask}\n                />\n\n                <Product \n                id=\"SHIRTS\"\n                title=\"Fall'20 Shirts\"\n                price={39.99}\n                rating={5}\n                image={ast}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React from 'react'\nimport './CheckoutProducts.css'\nimport {useStateValue} from '../../StateProvider'\n\nfunction CheckoutProducts({id, title, image, price, rating}) {\n    const [{dataLayer} , dispatch] = useStateValue();\n\n    // we remove the item by finding the id in the store\n    const removeFromBasket = () => {\n        dispatch({\n            type: \"REMOVE_FROM_DATALAYER\",\n            id: id\n        })\n    }\n\n    const removeAll = () => {\n        dispatch({\n            type: \"REMOVE_ALL\",\n        })\n    }\n    return (\n        <div className=\"checkout-products\">\n            <img src={image} alt=\"\" />\n            <div className=\"checkout-info\">\n                <p className=\"checkout-product-title\">{title}</p>\n                <p className=\"checkout-product-price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"checkout-product-rating\">\n                    {rating} stars {/* .. need to implement correctly  */}\n                </div>\n\n                    <button\n                    onClick={removeFromBasket}\n                    >Remove from basket</button>\n\n                    <button\n                    onClick={removeAll}\n                    >remove all</button>\n                    {/* change the remove all buttons to be another thing, not a button */}\n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProducts\n","export const initialState = {\n    dataLayer: [],\n    user: null,\n}\n\nexport const getBasketTotal = (dataLayer) => dataLayer? (dataLayer.reduce((amount, item) => item.price + amount, 0)) : null;\n\n// anything inside the data layer is a state,\n// and we manipulate the data layer with actions\nconst reducer = (state, action) => {\n    // switch on an action type\n    switch(action.type) {\n        case 'SET_USER': \n            return {\n                ...state,\n                user: action.user\n            }\n            break;\n        case 'ADD_TO_DATALAYER':\n            // when we add to the data layer, put logic\n            // return what the new data layer will look like\n            return {\n                ...state,\n                dataLayer: [...state.dataLayer, action.item]\n            }\n            break;\n        case 'REMOVE_FROM_DATALAYER':\n            // find the id, slice it out, then return the new state/data layer\n            let newBasket = [...state.dataLayer];\n            // check if item id is equivalent to action id\n            const index = state.dataLayer.findIndex((item) => item.id === action.id);\n            if(index >= 0) {\n                // item exists, remove it\n                newBasket.splice(index, 1);\n            }\n\n            return {\n                ...state, dataLayer:newBasket\n            }\n            // logic from removing from data layer\n            break;\n            case 'REMOVE_ALL':\n                return {\n                    ...state, dataLayer:[]\n                }\n                break;\n            // default state -- if none of the above, leave it to the state that was in\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import React from 'react'\nimport './Subtotal.css'\nimport CurrencyFormat from 'react-currency-format';\nimport {useStateValue} from '../../StateProvider' \nimport { getBasketTotal } from '../../reducer';\nimport {useHistory} from 'react-router-dom';\n\nfunction Subtotal() {\n    const [{dataLayer, user}, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const handleClick = () => {\n        if(user) {\n            history.push(\"/payment\")\n        } else {\n            history.push(\"/login\");\n        }\n    }\n\n    return (\n        <div className=\"subtotal\">\n            <CurrencyFormat \n              renderText={(value) => (\n                  <>\n                    <p>\n                        Subtotal ({dataLayer.length} \n                        {dataLayer.length > 1 ? ' items' : ' item'}\n                        ): <string>\n                        {`$ ${value}`} {dataLayer.price}\n                        </string></p>\n                    <small className=\"subtotal-gift\">\n                        <input type=\"checkbox\" /> This order contains a gift\n                    </small>\n                  </>\n              )}\n              decimalScale={2}\n              value={getBasketTotal(dataLayer)}\n              displayType={\"text\"}\n              thousandSeparator={true}\n              /*prefix={\"$\"}*/\n            />\n            <button className=\"subtotal-checkout\"\n            onClick={handleClick}\n            >Proceed to checkout</button>\n            {/* redirect to sign in if the user isn't signed in. */}\n        </div>\n    )\n}\n\nexport default Subtotal\n","import React from 'react'\nimport './Checkout.css'\nimport {useStateValue} from '../../StateProvider';\nimport CheckoutProducts from './CheckoutProducts';\nimport Subtotal from './Subtotal'\n\nfunction Checkout() {\n    // pull in the data layer from the store\n    // the dispatch is used when we wanna manipulate state/data layer\n    const [{dataLayer, user}] = useStateValue();\n\n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout-left\">\n            <img className=\"checkout-ad\" \n            src= \"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n            alt=\"\"/>\n\n            {dataLayer.length === 0 ? (\n                <div>\n                    <h2>Your Shopping Basket is Empty</h2>\n                    <p>\n                        You have no items in your basket. To but one or more items,\n                        click \"Add to basket\" next to the item.\n                    </p>\n                </div>\n            ) : (\n                <div>\n                    <h2 className=\"checkout-title\">Your Shopping Basket</h2>\n                    {dataLayer.map(item => (\n                        <CheckoutProducts \n                        id={item.id}\n                        title={item.title}\n                        image={item.image}\n                        price={item.price}\n                        rating={item.rating}\n                        />\n                    ))}\n                </div>\n            )}\n            </div>\n            {dataLayer.length > 0 ? (\n                <div className=\"checkout-right\">\n                    {/*user? <Subtotal /> : <h1>Sign in first</h1>*/}\n                    <Subtotal />\n                </div>\n            ): null}\n            \n        </div>\n    )\n}\n\nexport default Checkout\n","import React, {useState} from 'react'\nimport './Login.css'\nimport {Link, useHistory} from 'react-router-dom';\nimport {auth} from '../../firebase'\nfunction Login() {\n    const [email, setEmail] = useState('');\n    const [pass, setPass] = useState('');\n    const history = useHistory();\n\n    const login = (e) => {\n        e.preventDefault();\n        auth.signInWithEmailAndPassword(email, pass)\n        .then(auth => {\n            // redirect to home page\n            history.push(\"/\");\n        })\n        .catch(e =>{ alert(e.message)\n        setPass('');\n        setEmail('');\n        });\n    }\n\n    const register = (e) => {\n        e.preventDefault();\n        auth.createUserWithEmailAndPassword(email, pass)\n        .then(auth => {\n            // created a user & loggin in & redirect to home page\n            history.push(\"/\");\n        })\n        .catch(e => {alert(e.message)\n            setPass('');\n            setEmail('');\n        });\n    }\n\n\n    return (\n        <div className=\"login\">\n            <Link to=\"/\">\n                <img\n                className=\"login-logo\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n                alt=\"\"\n                />\n            </Link>\n\n            <div className=\"login-container\">\n                <h1>Sign in</h1>\n                <form>\n                    <h5>Email</h5>\n                    <input value={email} \n                    onChange ={(e) => setEmail(e.target.value)}\n                    type=\"email\" />\n                    <h5>Password</h5>\n                    <input value={pass} \n                    onChange={e => setPass(e.target.value)}\n                    type=\"password\" />\n                    <button \n                    onClick={login}\n                    type=\"submit\" className=\"signin-btn\">Continue</button>\n                    <p>By continuing, you agree to Amazon's Conditions of Use and Privacy Notice.\nNeed help?</p>\n                </form>\n            </div>\n            \n                <div className=\"middle\">\n                    <h5>New to Amazon?</h5></div>\n\n            <button \n            onClick={register}\n            className=\"register-btn\">Create your Amazon account</button>\n\n        </div>\n    )\n}\n\nexport default Login\n","import React from 'react'\nimport './Payment.css'\n\nfunction Payment() {\n    return (\n        <div className=\"payment\">\n            <h1>Payment Page</h1>\n        </div>\n    )\n}\n\nexport default Payment\n","import React, {useEffect} from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Navbar from './components/Navbar/Navbar'\nimport Home from './components/Home/Home';\nimport Checkout from './components/Checkout/Checkout';\nimport Login from './components/Login/Login';\nimport {useStateValue} from './StateProvider';\nimport {auth} from './firebase';\nimport Payment from './components/Payment/Payment';\n\nfunction App() {\n  // data layer\n  const [{user}, dispatch] = useStateValue();\n\n  // this piece of code will run based on a given condition\n  // takes in a function & a dependency \n  // leaving [] blank makes the function run once, once the app loads, and never again\n  // if i put a variable [var], it's gonna run everytime the variable changes..\n  useEffect(() => {\n    // creating a listener that's listening if the user signed in / signed out\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if(authUser) {\n        // user is logged in\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        // user is logged out\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n\n    return () => {\n      // clean up operations come here\n      unsubscribe();\n    }\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Navbar />\n            <Home />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n          <Navbar />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Payment />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StateProvider } from './StateProvider';\nimport reducer, {initialState} from './reducer'\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}